define(["dojo/on","dojo/dom","dojo/dom-class","dojo/query","dijit/registry","modules/HashController","modules/EventsController","views/data/DataModel","dojo/_base/array"],function(e,t,n,o,i,a,r,c,d){var s={},l=!1,u="dataView",v=[],g={viewId:u,viewName:"data"};return s.init=function(){return l?void r.switchToView(g):(l=!0,void require(["dojo/text!views/data/data.html"],function(e){t.byId(u).innerHTML=e,r.switchToView(g),c.applyBindings(u)}))},s.toggleDataNavList=function(e){var t=e.htmlContent,n=c.getVM(),o=n.leftLinks(),i=this;n.leftLinks([]),d.forEach(o,function(t){t.selected=t==e?!0:!1}),n.leftLinks(o),i.reportAnalyticsHelper("view","content","The user viewed the "+i.toTitleCase(e.name)+" content on the Data page."),require(["dojo/text!views/data/templates/"+t+".htm"],function(t){n.htmlContent(t),"FOREST USE"===e.name?i.bindEvents():i.disconnectEvents()})},s.bindEvents=function(){var n=this;v.push(e(t.byId("woodFiberDropdown"),"click",function(){n.toggleSelect("woodFiberDropdown")})),v.push(e(t.byId("oilPalmDropdown"),"click",function(){n.toggleSelect("oilPalmDropdown")})),v.push(e(t.byId("loggingDropdown"),"click",function(){n.toggleSelect("loggingDropdown")})),o(".source_download_links a").forEach(function(t){v.push(e(t,"click",n.showDownloadOptions))})},s.disconnectEvents=function(){d.forEach(v,function(e){e.remove()})},s.showDownloadOptions=function(e){var i=e.target?e.target:e.srcElement,a=i.dataset?i.dataset.slug:i.getAttribute("data-slug"),r=i.dataset?i.dataset.container+"Title":i.getAttribute("data-container")+"Title";o(".source_dropdown .active").forEach(function(e){n.contains(e,"source_dropdown_menu")||n.remove(e,"active")}),n.add(a,"active"),t.byId(r).innerHTML=i.innerHTML},s.toggleSelect=function(e){n.contains(e+"Menu","active")?(o(".source_dropdown .active").forEach(function(e){n.remove(e,"active")}),t.byId(e+"Title").innerHTML="Select a country"):n.add(e+"Menu","active")},s.toTitleCase=function(e){return e.replace(/\w*/g,function(e){return e.charAt(0).toUpperCase()+e.substr(1).toLowerCase()})},s.reportAnalyticsHelper=function(e,t,n){ga("A.send","event",e,t,n),ga("B.send","event",e,t,n),ga("C.send","event",e,t,n)},s});