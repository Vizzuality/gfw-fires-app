define(["dojo/dom","dijit/registry","modules/HashController","dojo/_base/array","dojo/dom-construct","dojo/dom-class","dojo/aspect","dojo/on","dojo/query"],function(e,i,o,a,t,d,n,r,s){var v={},l=!1,c="app-header";return v.init=function(){var i=this;l||(l=!0,require(["dojo/text!views/header/header.html","views/header/HeaderModel"],function(o,a){e.byId(c).innerHTML+=o,a.applyBindings(c),r(e.byId("logo"),"click",function(){var e={domId:"homeView",html:"Home",selected:!0,viewId:"homeView",viewName:"home"};i.clickNavLink(e)})}))},v.dataLoaded=function(){},v.clickNavLink=function(e){var i=e;if(this.reportAnalyticsHelper("link","navigate","The user navigated to the "+i.html+" page."),i.url)return window.open(i.url,"_blank"),void 0;var a={v:i.viewName};o.updateHash(a)},v.switchToView=function(i){require(["dijit/registry","views/header/HeaderModel","views/home/HomeController","modules/EventsController"],function(o,n){function r(){e.byId("footerView")?t.place("footerView",i.viewId):setTimeout(r,0)}var v=n.vm.navigationLinks();n.vm.navigationLinks([]);var l=a.map(v,function(e){return e.selected=i.viewId.toLowerCase()===e.domId.toLowerCase()?!0:!1,e});n.vm.navigationLinks(l);var c="mapView homeView blogView dataView aboutView storyView";switch(d.remove("app-body",c),d.add("app-body",i.viewId),d.remove("app-header",c),d.add("app-header",i.viewId),i.viewId){case"homeView":break;default:setTimeout(r,0)}s(".dijitHidden.initialHide").forEach(function(e){d.remove(e,"dijitHidden")}),o.byId("stackContainer").selectChild(i.viewId),o.byId("stackContainer").resize()})},v.reportAnalyticsHelper=function(e,i,o){ga("A.send","event",e,i,o),ga("B.send","event",e,i,o),ga("C.send","event",e,i,o)},v});