define(["dojo/dom","dijit/registry","modules/HashController","dojo/_base/array","dojo/dom-construct","dojo/dom-class","dojo/aspect","dojo/on","dojo/query"],function(e,i,o,t,a,n,d,r,s){var v={},c=!1,l="app-header";return v.init=function(){var i=this;c||(c=!0,require(["dojo/text!views/header/header.html","views/header/HeaderModel"],function(o,t){e.byId(l).innerHTML+=o,t.applyBindings(l),r(e.byId("logo"),"click",function(){var e={domId:"homeView",html:"Home",selected:!0,viewId:"homeView",viewName:"home"};i.clickNavLink(e)})}))},v.dataLoaded=function(){},v.clickNavLink=function(e){var i=e;if(this.reportAnalyticsHelper("link","navigate","The user navigated to the "+i.html+" page."),i.url)return window.open(i.url,"_blank"),void 0;var t={v:i.viewName};o.updateHash(t)},v.switchToView=function(i){require(["dijit/registry","views/header/HeaderModel","views/home/HomeController","modules/EventsController"],function(o,d){function r(){e.byId("footerView")?a.place("footerView",i.viewId):setTimeout(r,0)}var v=d.vm.navigationLinks();d.vm.navigationLinks([]);var c=t.map(v,function(e){return e.selected=i.viewId.toLowerCase()===e.domId.toLowerCase()?!0:!1,e});d.vm.navigationLinks(c);var l="mapView homeView blogView dataView aboutView storyView";switch(n.remove("app-body",l),n.add("app-body",i.viewId),n.remove("app-header",l),n.add("app-header",i.viewId),i.viewId){case"homeView":setTimeout(function(){a.place("footerView","footerShareContainer"),"none"==$("#footerView").css("display")&&$("#footerView").show()},1e3);break;default:setTimeout(r,0)}s(".dijitHidden.initialHide").forEach(function(e){n.remove(e,"dijitHidden")}),o.byId("stackContainer").selectChild(i.viewId),o.byId("stackContainer").resize()})},v.reportAnalyticsHelper=function(e,i,o){ga("A.send","event",e,i,o),ga("B.send","event",e,i,o),ga("C.send","event",e,i,o)},v});