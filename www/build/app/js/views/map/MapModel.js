define(["knockout","main/Config","views/map/MapConfig","dojo/dom"],function(e,a,t,o){var r={};r.vm={};var n=r.vm;n.appState=e.observable({}),n.locatorContainerHeader=e.observable(t.text.locatorContainerHeader),n.alertToolboxHeader=e.observable(t.text.alertToolboxHeader),n.locatorSearchLabel=e.observable(t.text.locatorSearchLabel),n.dmsSearch=e.observable(t.text.dmsSearch),n.latLongSearch=e.observable(t.text.latLongSearch),n.degreesLabel=e.observable(t.text.degreesLabel),n.minutesLabel=e.observable(t.text.minutesLabel),n.secondsLabel=e.observable(t.text.secondsLabel),n.latitudeLabel=e.observable(t.text.latitudeLabel),n.longitudeLabel=e.observable(t.text.longitudeLabel),n.searchOptionGoButton=e.observable(t.text.searchOptionGoButton),n.clearSearchPins=e.observable(t.text.clearSearchPins),n.legend=e.observable(t.text.legend),n.firesCheckbox=e.observable(t.text.firesCheckbox),n.noaaFiresCheckbox=e.observable(t.text.noaaFiresCheckbox),n.noaaSubLabel=e.observable(t.text.noaaSubLabel),n.indonesiaFiresCheckbox=e.observable(t.text.indonesiaFiresCheckbox),n.indonesiaSubLabel=e.observable(t.text.indonesiaSubLabel),n.firesSubLabel=e.observable(t.text.firesSubLabel),n.confidenceFiresCheckbox=e.observable(t.text.confidenceFiresCheckbox),n.activateSmartCheckbox=e.observable(t.text.activateSmartCheckbox),n.firesWeek=e.observable(t.text.firesWeek),n.fires72=e.observable(t.text.fires72),n.fires48=e.observable(t.text.fires48),n.fires24=e.observable(t.text.fires24),n.none=e.observable(t.text.none),n.oilPalmCheckbox=e.observable(t.text.oilPalmCheckbox),n.rspoOilPalmCheckbox=e.observable(t.text.rspoOilPalmCheckbox),n.woodFiberCheckbox=e.observable(t.text.woodFiberCheckbox),n.loggingCheckbox=e.observable(t.text.loggingCheckbox),n.protectedAreasCheckbox=e.observable(t.text.protectedAreasCheckbox),n.indicativeMoratoriumCheckbox=e.observable(t.text.indicativeMoratoriumCheckbox),n.burnedScarsCheckbox=e.observable(t.text.burnedScarsCheckbox),n.tomnodCheckbox=e.observable(t.text.tomnodCheckbox),n.peatLandsRadio=e.observable(t.text.peatLandsRadio),n.treeCoverDensityRadio=e.observable(t.text.treeCoverDensityRadio),n.primaryForestsRadio=e.observable(t.text.primaryForestsRadio),n.southeastLandCoverRadio=e.observable(t.text.southeastLandCoverRadio),n.peatLandsSubLabel=e.observable(t.text.peatLandsSubLabel),n.treeCoverDensitySubLabel=e.observable(t.text.treeCoverDensitySubLabel),n.southeastLandCoverSubLabel=e.observable(t.text.southeastLandCoverSubLabel),n.forestUseCheckboxSubLabelSelect=e.observable(t.text.forestUseCheckboxSubLabelSelect),n.rspoOilPalmCheckboxSubLabel=e.observable(t.text.rspoOilPalmCheckboxSubLabel),n.primaryForestsSubLabel=e.observable(t.text.primaryForestsSubLabel),n.conservationCheckboxSubLabelGlobal=e.observable(t.text.conservationCheckboxSubLabelGlobal),n.indicativeMoratoriumCheckboxSubLabel=e.observable(t.text.indicativeMoratoriumCheckboxSubLabel),n.indicativeMoratoriumCheckboxSubLabel2=e.observable(t.text.indicativeMoratoriumCheckboxSubLabel2),n.airQuality=e.observable(t.text.airQuality),n.digitalGlobeCheckbox=e.observable(t.text.digitalGlobeCheckbox),n.digitalGlobeFootprintsCheckbox=e.observable(t.text.digitalGlobeFootprintsCheckbox),n.landsatImageCheckbox=e.observable(t.text.landsatImageCheckbox),n.landsatImageSubLabel=e.observable(t.text.landsatImageSubLabel),n.twitterConversationsCheckbox=e.observable(t.text.twitterConversationsCheckbox),n.fireStoriesCheckbox=e.observable(t.text.fireStoriesCheckbox),n.transparencySliderLabel=e.observable(t.text.transparencySliderLabel),n.alertErrorMessages=e.observableArray([]),n.showAlertErrorMessages=e.observable(!1),n.smartRendererName=e.observable("Choose one"),n.customFeatureName=e.observable("Drawn/Uploaded Feature"),n.customFeaturesArray=e.observableArray([]),n.getReportLink=e.observable(t.text.getReportLink),n.getDates=e.observable(t.text.getDates),n.windyLayerCheckbox=e.observable(t.text.windyLayerCheckbox),n.windySubLabelAdvice=e.observable(t.text.windySubLabelAdvice),n.windySubLabel=e.observable(t.text.windySubLabel),n.provincesCheckbox=e.observable(t.text.provincesCheckbox),n.districtsCheckbox=e.observable(t.text.districtsCheckbox),n.subDistrictsCheckbox=e.observable(t.text.subDistrictsCheckbox),n.digitalGlobeSubLabel=e.observable(t.text.digitalGlobeSubLabel),n.digitalGlobeFootprintsSubLabel=e.observable(t.text.digitalGlobeFootprintsSubLabel),n.villagesCheckbox=e.observable(t.text.villagesCheckbox),n.pf2000Radio=e.observable(t.text.pf2000Radio),n.pf2005Radio=e.observable(t.text.pf2005Radio),n.pf2010Radio=e.observable(t.text.pf2010Radio),n.pf2012Radio=e.observable(t.text.pf2012Radio),n.imageIconPath=e.observable(t.text.imageSourcePath),n.timeOfDay=e.observable("00"),n.wind00Radio=e.observable("00"),n.wind06Radio=e.observable("06"),n.wind12Radio=e.observable("12"),n.wind18Radio=e.observable("18"),n.wind00Enable=e.observable(),n.wind06Enable=e.observable(),n.wind12Enable=e.observable(),n.wind18Enable=e.observable(),n.windDisabledDates=["2015-01-15"],n.customFeaturesPresence=e.observable(!1),n.clearCustomFeatures=function(){require(["views/map/MapController"],function(e){e.removeCustomFeatures()})},n.wind00Disable=function(){var e=new Date,a=(new Date,e.getHours(),moment(e));if(e=a.tz("Atlantic/Cape_Verde").format("ha z"),-1!=e.indexOf("am")){var t=e.split("am");t=t[0]}else{var t=e.split("pm");t=t[0],t=parseInt(t)+12}return 0>t?(n.wind00Enable(!1),$("#wind00 > label").css("color","grey"),!0):(n.wind00Enable(!0),!1)},n.wind06Disable=function(){var e=new Date,a=(new Date,e.getHours(),moment(e));if(e=a.tz("Atlantic/Cape_Verde").format("ha z"),-1!=e.indexOf("am")){var t=e.split("am");t=t[0]}else{var t=e.split("pm");t=t[0],t=parseInt(t)+12}return 6>t?(n.wind06Enable(!1),$("#wind06 > label").css("color","grey"),!0):(n.wind06Enable(!0),!1)},n.wind12Disable=function(){var e=new Date,a=moment(e);if(e=a.tz("Atlantic/Cape_Verde").format("ha z"),-1!=e.indexOf("am")){var t=e.split("am");t=t[0]}else{var t=e.split("pm");t=t[0],t=parseInt(t)+12}return 12>t?(n.wind12Enable(!1),$("#wind12 > label").css("color","grey"),!0):(n.wind12Enable(!0),!1)},n.wind18Disable=function(){var e=new Date,a=moment(e);if(e=a.tz("Atlantic/Cape_Verde").format("ha z"),-1!=e.indexOf("am")){var t=e.split("am");t=t[0]}else{var t=e.split("pm");t=t[0],t=parseInt(t)+12}return 18>t?(n.wind18Enable(!1),$("#wind18 > label").css("color","grey"),!0):(n.wind18Enable(!0),!1)},n.months=[0,31,28,31,30,31,30,31,31,30,31,30,31],n.reportAOIs=e.observableArray([]),n.selectedAOIs=e.observableArray([]),n.reportText=e.observable(t.text.reportOptions),n.reportTextImagery=e.observable(t.text.digitalGlobeWindowText);var b=new Date,i=b.getDate(),s=b.getMonth()+1,l=b.getFullYear(),c=s+"/"+i+"/"+l,d=new Date((new Date).setDate((new Date).getDate()-7)),v=d.getDate(),u=d.getMonth()+1,p=d.getFullYear(),m=u+"/"+v+"/"+p;return n.firesPickerFrom=function(){var e=(jQuery("#firesDateFrom").datepicker({minDate:new Date(2013,0,1),maxDate:"+0M +0D",onSelect:function(e){return console.log(e),n.firesObservFrom(e),$("#firesDateTo").datepicker("option","minDate",e),e}}),new Date((new Date).setDate((new Date).getDate()-7))),a=e.getDate(),t=e.getMonth()+1,o=e.getFullYear(),r=t+"/"+a+"/"+o;return r},n.firesPickerTo=function(){var e=(jQuery("#firesDateTo").datepicker({minDate:new Date(2013,0,1),maxDate:"+0M +0D",onSelect:function(e){return n.firesObservTo(e),$("#firesDateFrom").datepicker("option","maxDate",e),e}}),new Date),a=e.getDate(),t=e.getMonth()+1,o=e.getFullYear(),r=t+"/"+a+"/"+o;return r},n.windPicker=function(){var e=(jQuery("#windDate").datepicker({minDate:new Date(2014,9,19),maxDate:"+0M +0D",beforeShowDay:function(e){var a=jQuery.datepicker.formatDate("yy-mm-dd",e),t=["2015-03-31","2015-04-01","2015-04-02","2015-04-03","2015-04-04","2015-04-05","2015-04-06","2015-04-07","2015-04-08","2015-04-09","2015-04-10","2015-04-11","2015-04-12","2015-04-13","2015-04-14","2015-04-15","2015-04-16","2015-05-06","2015-05-07"];return t.indexOf(a)>-1?!1:[-1==n.windDisabledDates.indexOf(a)]},onSelect:function(e){$("#wind06 > label").css("color","black"),$("#wind12 > label").css("color","black"),$("#wind18 > label").css("color","black");var a=Date.parse(e),t=new Date;return t.setHours(0,0,0,0),t.getTime()>a?(n.wind00Enable(!0),n.wind06Enable(!0),n.wind12Enable(!0),n.wind18Enable(!0)):(n.timeOfDay("00"),n.wind06Disable(),n.wind12Disable(),n.wind18Disable()),"01/14/2015"==e&&(n.timeOfDay("00"),n.wind18Enable(!1)),"01/16/2015"==e&&(n.timeOfDay("18"),n.wind00Enable(!1),n.wind06Enable(!1),n.wind12Enable(!1)),"03/30/2015"==e&&(n.timeOfDay("00"),n.wind12Enable(!1),n.wind18Enable(!1)),"04/17/2015"==e&&(n.timeOfDay("00"),n.wind12Enable(!1),n.wind18Enable(!1)),"05/05/2015"==e&&(n.timeOfDay("00"),n.wind06Enable(!1),n.wind12Enable(!1),n.wind18Enable(!1)),"05/08/2015"==e&&(n.timeOfDay("12"),n.wind00Enable(!1),n.wind06Enable(!1)),n.windObserv(e),e}}),new Date),a=e.getDate(),t=e.getMonth()+1,o=e.getFullYear(),r=t+"/"+a+"/"+o;return r},n.airPicker=function(){var e=(jQuery("#airDate").datepicker({minDate:new Date(2014,11,16),maxDate:"+0M +0D",beforeShowDay:function(e){var a=jQuery.datepicker.formatDate("yy-mm-dd",e),t=["2015-04-13","2015-04-14","2015-04-15","2015-04-16","2015-04-17","2015-04-18","2015-04-19","2015-04-20","2015-04-21","2015-04-22","2015-04-23","2015-04-24","2015-04-25","2015-04-26","2015-04-27","2015-04-28","2015-04-29","2015-04-30","2015-05-01","2015-05-02","2015-05-03","2015-05-04","2015-05-05","2015-05-06","2015-05-07","2015-05-08","2015-05-09","2015-05-10","2015-05-11","2015-05-12","2015-05-13","2015-05-14","2015-05-15","2015-05-16","2015-05-17","2015-05-18","2015-05-19","2015-05-20","2015-05-21","2015-05-22","2015-05-23","2015-05-24","2015-05-25","2015-05-26","2015-05-27","2015-05-28","2015-05-29","2015-05-30","2015-05-31","2015-06-01","2015-06-02","2015-06-03"];return[-1==t.indexOf(a)]},onSelect:function(e){return n.airObserv(e),e}}),new Date),a=e.getDate(),t=e.getMonth()+1,o=e.getFullYear(),r=t+"/"+a+"/"+o;return r},n.noaaPickerFrom=function(){jQuery("#noaaDateFrom").datepicker({date:new Date(2014,9,22),minDate:new Date(2014,9,22),maxDate:"+0M +0D",onSelect:function(e){return n.noaaObservFrom(e),$("#noaaDateTo").datepicker("option","minDate",e),e}})},n.noaaPickerTo=function(){var e=(jQuery("#noaaDateTo").datepicker({minDate:new Date(2014,9,22),maxDate:"+0M +0D",onSelect:function(e){return n.noaaObservTo(e),$("#noaaDateFrom").datepicker("option","maxDate",e),e}}),new Date),a=e.getDate(),t=e.getMonth()+1,o=e.getFullYear(),r=t+"/"+a+"/"+o;return r},n.indoPickerFrom=function(){jQuery("#indoDateFrom").datepicker({minDate:new Date(2013,0,1),maxDate:"+0M -7D",onSelect:function(e){return n.indoObservFrom(e),$("#indoDateTo").datepicker("option","minDate",e),e}})},n.indoPickerTo=function(){var e=(jQuery("#indoDateTo").datepicker({minDate:new Date(2013,0,1),maxDate:"+0M -7D",onSelect:function(e){return n.indoObservTo(e),$("#indoDateFrom").datepicker("option","maxDate",e),e}}),new Date((new Date).setDate((new Date).getDate()-7))),a=e.getDate(),t=e.getMonth()+1,o=e.getFullYear(),r=t+"/"+a+"/"+o;return r},n.smartOptions=e.observableArray(["Choose one","Heat map","Proportional symbols","Hex bin"]),n.firesObservFrom=e.observable(m),n.firesObservTo=e.observable(c),n.windObserv=e.observable(c),n.airObserv=e.observable(c),n.noaaObservFrom=e.observable("10/12/2014"),n.noaaObservTo=e.observable(c),n.indoObservFrom=e.observable("1/1/2013"),n.indoObservTo=e.observable(m),n.islands=e.observableArray([]),n.provinces=e.observableArray([]),n.uploadInstructions=e.observableArray(t.uploadOptions.instructions),n.drawInstructions=e.observableArray(t.text.drawInstructions),n.showBasemapGallery=e.observable(!1),n.showShareContainer=e.observable(!1),n.showReportOptions=e.observable(!1),n.showAlertContainer=e.observable(!1),n.showReportOptionsNOAA=e.observable(!1),n.showActiveFiresButtons=e.observable(!1),n.showReportOptionsINDO=e.observable(!1),n.showReportOptionsWIND=e.observable(!1),n.showReportOptionsAIR=e.observable(!1),n.showUploadTools=e.observable(!1),n.showDrawTools=e.observable(!1),n.showReportOptionsDigitalGlobe=e.observable(!1),n.showReportOptionsDigitalGlobeFootprints=e.observable(!0),n.digitalGlobeInView=e.observableArray(),n.sortedImageryArray=[],n.showLocatorWidgets=e.observable(!1),n.toggleMapPane=e.observable(!0),n.showPrimaryForestOptions=e.observable(!1),n.showWindLayerOptions=e.observable(!0),n.showWindLegend=e.observable(!1),n.showLatLongInputs=e.observable(!1),n.showDMSInputs=e.observable(!0),n.showClearPinsOption=e.observable(!1),n.currentLatitude=e.observable(0),n.currentLongitude=e.observable(0),n.DigitalGlobeExtents=e.observable([]),n.dgMoments=e.observable([]),n.valuenodes=e.observable(),n.selectedImageryID=e.observable(),n.closeReportOptions=function(){n.showReportOptions(!1),require(["views/map/MapController"],function(e){e.removeAnalysisFromHash()})},n.closeAlertsOptions=function(){n.showAlertContainer(!1)},n.closeReportOptionsNOAA=function(){n.showReportOptionsNOAA(!1)},n.closeReportOptionsINDO=function(){n.showReportOptionsINDO(!1)},n.closeReportOptionsWIND=function(){n.showReportOptionsWIND(!1)},n.closeReportOptionsAIR=function(){n.showReportOptionsAIR(!1)},n.closeReportOptionsDigitalGlobe=function(){n.showReportOptionsDigitalGlobe(!1)},n.closeOptionsNASA=function(){n.showActiveFiresButtons(!1)},n.imageryMouseOver=function(e,a){require(["views/map/MapController"],function(t){t.handleImageryOver(e,a)})},n.imageryMouseOut=function(e,a){$("#smartHiddenMenu").addClass("hidden"),require(["views/map/MapController"],function(t){t.handleImageryOut(e,a)})},n.chooseSmartDropdown=function(){var e=$("#activate-smart-checkbox");0!=e[0].checked&&require(["views/map/MapController"],function(e){e.setSmartRenderer(n.smartRendererName())})},n.imageryZoomTo=function(e,a){require(["views/map/MapController"],function(t){t.imageryZoom(e,a)})},n.digitalGlobeToggle=function(e,a){console.log("CLICK"),require(["views/map/MapController"],function(t){t.showDigitalGlobe(e,a)})},n.slidePanel=function(){var e=n.toggleMapPane();require(["views/map/MapController"],function(a){a.resizeMapPanel(e)})},n.selectImageryMinimize=function(){"table"==$("#imageryWindow > table").css("display")?($("#imageryWindow > table").css("display","none"),$("#report-optionsDigitalGlobe").css("border-bottom","none")):($("#imageryWindow > table").css("display","table"),$("#report-optionsDigitalGlobe").css("border-bottom","2px solid black"))},r.applyBindings=function(a){e.applyBindings(n,o.byId(a))},r.get=function(e){return"model"===e?r.vm:r.vm[e]()},r.set=function(e,a){r.vm[e](a)},r});