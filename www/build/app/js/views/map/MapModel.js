define(["knockout","main/Config","views/map/MapConfig","dojo/dom"],function(e,o,a,t){var r={};r.vm={};var b=r.vm;b.appState=e.observable({}),b.locatorContainerHeader=e.observable(a.text.locatorContainerHeader),b.alertToolboxHeader=e.observable(a.text.alertToolboxHeader),b.locatorSearchLabel=e.observable(a.text.locatorSearchLabel),b.dmsSearch=e.observable(a.text.dmsSearch),b.latLongSearch=e.observable(a.text.latLongSearch),b.degreesLabel=e.observable(a.text.degreesLabel),b.minutesLabel=e.observable(a.text.minutesLabel),b.secondsLabel=e.observable(a.text.secondsLabel),b.latitudeLabel=e.observable(a.text.latitudeLabel),b.longitudeLabel=e.observable(a.text.longitudeLabel),b.searchOptionGoButton=e.observable(a.text.searchOptionGoButton),b.clearSearchPins=e.observable(a.text.clearSearchPins),b.legend=e.observable(a.text.legend),b.firesCheckbox=e.observable(a.text.firesCheckbox),b.noaaFiresCheckbox=e.observable(a.text.noaaFiresCheckbox),b.noaaSubLabel=e.observable(a.text.noaaSubLabel),b.indonesiaFiresCheckbox=e.observable(a.text.indonesiaFiresCheckbox),b.indonesiaSubLabel=e.observable(a.text.indonesiaSubLabel),b.firesSubLabel=e.observable(a.text.firesSubLabel),b.confidenceFiresCheckbox=e.observable(a.text.confidenceFiresCheckbox),b.activateSmartCheckbox=e.observable(a.text.activateSmartCheckbox),b.firesWeek=e.observable(a.text.firesWeek),b.fires72=e.observable(a.text.fires72),b.fires48=e.observable(a.text.fires48),b.fires24=e.observable(a.text.fires24),b.none=e.observable(a.text.none),b.oilPalmCheckbox=e.observable(a.text.oilPalmCheckbox),b.rspoOilPalmCheckbox=e.observable(a.text.rspoOilPalmCheckbox),b.woodFiberCheckbox=e.observable(a.text.woodFiberCheckbox),b.loggingCheckbox=e.observable(a.text.loggingCheckbox),b.protectedAreasCheckbox=e.observable(a.text.protectedAreasCheckbox),b.indicativeMoratoriumCheckbox=e.observable(a.text.indicativeMoratoriumCheckbox),b.burnedScarsCheckbox=e.observable(a.text.burnedScarsCheckbox),b.tomnodCheckbox=e.observable(a.text.tomnodCheckbox),b.peatLandsRadio=e.observable(a.text.peatLandsRadio),b.treeCoverDensityRadio=e.observable(a.text.treeCoverDensityRadio),b.primaryForestsRadio=e.observable(a.text.primaryForestsRadio),b.southeastLandCoverRadio=e.observable(a.text.southeastLandCoverRadio),b.peatLandsSubLabel=e.observable(a.text.peatLandsSubLabel),b.treeCoverDensitySubLabel=e.observable(a.text.treeCoverDensitySubLabel),b.southeastLandCoverSubLabel=e.observable(a.text.southeastLandCoverSubLabel),b.forestUseCheckboxSubLabelSelect=e.observable(a.text.forestUseCheckboxSubLabelSelect),b.rspoOilPalmCheckboxSubLabel=e.observable(a.text.rspoOilPalmCheckboxSubLabel),b.primaryForestsSubLabel=e.observable(a.text.primaryForestsSubLabel),b.conservationCheckboxSubLabelGlobal=e.observable(a.text.conservationCheckboxSubLabelGlobal),b.indicativeMoratoriumCheckboxSubLabel=e.observable(a.text.indicativeMoratoriumCheckboxSubLabel),b.indicativeMoratoriumCheckboxSubLabel2=e.observable(a.text.indicativeMoratoriumCheckboxSubLabel2),b.airQuality=e.observable(a.text.airQuality),b.digitalGlobeCheckbox=e.observable(a.text.digitalGlobeCheckbox),b.digitalGlobeFootprintsCheckbox=e.observable(a.text.digitalGlobeFootprintsCheckbox),b.landsatImageCheckbox=e.observable(a.text.landsatImageCheckbox),b.landsatImageSubLabel=e.observable(a.text.landsatImageSubLabel),b.twitterConversationsCheckbox=e.observable(a.text.twitterConversationsCheckbox),b.fireStoriesCheckbox=e.observable(a.text.fireStoriesCheckbox),b.transparencySliderLabel=e.observable(a.text.transparencySliderLabel),b.alertErrorMessages=e.observableArray([]),b.showAlertErrorMessages=e.observable(!1),b.smartRendererName=e.observable("Choose one"),b.customFeatureName=e.observable("Drawn/Uploaded Feature"),b.customFeaturesArray=e.observableArray([]),b.getReportLink=e.observable(a.text.getReportLink),b.getDates=e.observable(a.text.getDates),b.windyLayerCheckbox=e.observable(a.text.windyLayerCheckbox),b.windySubLabelAdvice=e.observable(a.text.windySubLabelAdvice),b.windySubLabel=e.observable(a.text.windySubLabel),b.provincesCheckbox=e.observable(a.text.provincesCheckbox),b.districtsCheckbox=e.observable(a.text.districtsCheckbox),b.subDistrictsCheckbox=e.observable(a.text.subDistrictsCheckbox),b.digitalGlobeSubLabel=e.observable(a.text.digitalGlobeSubLabel),b.digitalGlobeFootprintsSubLabel=e.observable(a.text.digitalGlobeFootprintsSubLabel),b.villagesCheckbox=e.observable(a.text.villagesCheckbox),b.pf2000Radio=e.observable(a.text.pf2000Radio),b.pf2005Radio=e.observable(a.text.pf2005Radio),b.pf2010Radio=e.observable(a.text.pf2010Radio),b.pf2012Radio=e.observable(a.text.pf2012Radio),b.imageIconPath=e.observable(a.text.imageSourcePath),b.timeOfDay=e.observable("00"),b.wind00Radio=e.observable("00"),b.wind06Radio=e.observable("06"),b.wind12Radio=e.observable("12"),b.wind18Radio=e.observable("18"),b.wind00Enable=e.observable(),b.wind06Enable=e.observable(),b.wind12Enable=e.observable(),b.wind18Enable=e.observable(),b.windDisabledDates=["2015-01-15"],b.customFeaturesPresence=e.observable(!1),b.clearCustomFeatures=function(){require(["views/map/MapController"],function(e){e.removeCustomFeatures()})},b.wind00Disable=function(){var e=new Date,o=(new Date,e.getHours(),moment(e));if(e=o.tz("Atlantic/Cape_Verde").format("ha z"),-1!=e.indexOf("am")){var a=e.split("am");a=a[0]}else{var a=e.split("pm");a=a[0],a=parseInt(a)+12}return 0>a?(b.wind00Enable(!1),$("#wind00 > label").css("color","grey"),!0):(b.wind00Enable(!0),!1)},b.wind06Disable=function(){var e=new Date,o=(new Date,e.getHours(),moment(e));if(e=o.tz("Atlantic/Cape_Verde").format("ha z"),-1!=e.indexOf("am")){var a=e.split("am");a=a[0]}else{var a=e.split("pm");a=a[0],a=parseInt(a)+12}return 6>a?(b.wind06Enable(!1),$("#wind06 > label").css("color","grey"),!0):(b.wind06Enable(!0),!1)},b.wind12Disable=function(){var e=new Date,o=moment(e);if(e=o.tz("Atlantic/Cape_Verde").format("ha z"),-1!=e.indexOf("am")){var a=e.split("am");a=a[0]}else{var a=e.split("pm");a=a[0],a=parseInt(a)+12}return 12>a?(b.wind12Enable(!1),$("#wind12 > label").css("color","grey"),!0):(b.wind12Enable(!0),!1)},b.wind18Disable=function(){var e=new Date,o=moment(e);if(e=o.tz("Atlantic/Cape_Verde").format("ha z"),-1!=e.indexOf("am")){var a=e.split("am");a=a[0]}else{var a=e.split("pm");a=a[0],a=parseInt(a)+12}return 18>a?(b.wind18Enable(!1),$("#wind18 > label").css("color","grey"),!0):(b.wind18Enable(!0),!1)},b.months=[0,31,28,31,30,31,30,31,31,30,31,30,31],b.reportAOIs=e.observableArray([]),b.selectedAOIs=e.observableArray([]),b.reportText=e.observable(a.text.reportOptions),b.reportTextImagery=e.observable(a.text.digitalGlobeWindowText);var n=new Date,s=n.getDate(),i=n.getMonth()+1,l=n.getFullYear(),c=i+"/"+s+"/"+l,d=new Date((new Date).setDate((new Date).getDate()-7)),v=d.getDate(),u=d.getMonth()+1,p=d.getFullYear(),m=u+"/"+v+"/"+p;return b.firesPickerFrom=function(){var e=(jQuery("#firesDateFrom").datepicker({minDate:new Date(2013,0,1),maxDate:"+0M +0D",onSelect:function(e){return console.log(e),b.firesObservFrom(e),$("#firesDateTo").datepicker("option","minDate",e),e}}),new Date((new Date).setDate((new Date).getDate()-7))),o=e.getDate(),a=e.getMonth()+1,t=e.getFullYear(),r=a+"/"+o+"/"+t;return r},b.firesPickerTo=function(){var e=(jQuery("#firesDateTo").datepicker({minDate:new Date(2013,0,1),maxDate:"+0M +0D",onSelect:function(e){return b.firesObservTo(e),$("#firesDateFrom").datepicker("option","maxDate",e),e}}),new Date),o=e.getDate(),a=e.getMonth()+1,t=e.getFullYear(),r=a+"/"+o+"/"+t;return r},b.windPicker=function(){var e=(jQuery("#windDate").datepicker({minDate:new Date(2014,9,19),maxDate:"+0M +0D",beforeShowDay:function(e){var o=jQuery.datepicker.formatDate("yy-mm-dd",e);return[-1==b.windDisabledDates.indexOf(o)]},onSelect:function(e){$("#wind06 > label").css("color","black"),$("#wind12 > label").css("color","black"),$("#wind18 > label").css("color","black");var o=Date.parse(e),a=new Date;return a.setHours(0,0,0,0),a.getTime()>o?(b.wind00Enable(!0),b.wind06Enable(!0),b.wind12Enable(!0),b.wind18Enable(!0)):(b.timeOfDay("00"),b.wind06Disable(),b.wind12Disable(),b.wind18Disable()),"01/14/2015"==e&&(b.timeOfDay("00"),b.wind18Enable(!1)),"01/16/2015"==e&&(b.timeOfDay("18"),b.wind00Enable(!1),b.wind06Enable(!1),b.wind12Enable(!1)),b.windObserv(e),e}}),new Date),o=e.getDate(),a=e.getMonth()+1,t=e.getFullYear(),r=a+"/"+o+"/"+t;return r},b.airPicker=function(){var e=(jQuery("#airDate").datepicker({minDate:new Date(2014,11,16),maxDate:"+0M +0D",onSelect:function(e){return b.airObserv(e),e}}),new Date),o=e.getDate(),a=e.getMonth()+1,t=e.getFullYear(),r=a+"/"+o+"/"+t;return r},b.noaaPickerFrom=function(){jQuery("#noaaDateFrom").datepicker({date:new Date(2014,9,22),minDate:new Date(2014,9,22),maxDate:"+0M +0D",onSelect:function(e){return b.noaaObservFrom(e),$("#noaaDateTo").datepicker("option","minDate",e),e}})},b.noaaPickerTo=function(){var e=(jQuery("#noaaDateTo").datepicker({minDate:new Date(2014,9,22),maxDate:"+0M +0D",onSelect:function(e){return b.noaaObservTo(e),$("#noaaDateFrom").datepicker("option","maxDate",e),e}}),new Date),o=e.getDate(),a=e.getMonth()+1,t=e.getFullYear(),r=a+"/"+o+"/"+t;return r},b.indoPickerFrom=function(){jQuery("#indoDateFrom").datepicker({minDate:new Date(2013,0,1),maxDate:"+0M -7D",onSelect:function(e){return b.indoObservFrom(e),$("#indoDateTo").datepicker("option","minDate",e),e}})},b.indoPickerTo=function(){var e=(jQuery("#indoDateTo").datepicker({minDate:new Date(2013,0,1),maxDate:"+0M -7D",onSelect:function(e){return b.indoObservTo(e),$("#indoDateFrom").datepicker("option","maxDate",e),e}}),new Date((new Date).setDate((new Date).getDate()-7))),o=e.getDate(),a=e.getMonth()+1,t=e.getFullYear(),r=a+"/"+o+"/"+t;return r},b.smartOptions=e.observableArray(["Choose one","Heat map","Proportional symbols","Hex bin"]),b.firesObservFrom=e.observable(m),b.firesObservTo=e.observable(c),b.windObserv=e.observable(c),b.airObserv=e.observable(c),b.noaaObservFrom=e.observable("10/12/2014"),b.noaaObservTo=e.observable(c),b.indoObservFrom=e.observable("1/1/2013"),b.indoObservTo=e.observable(m),b.islands=e.observableArray([]),b.provinces=e.observableArray([]),b.uploadInstructions=e.observableArray(a.uploadOptions.instructions),b.drawInstructions=e.observableArray(a.text.drawInstructions),b.showBasemapGallery=e.observable(!1),b.showShareContainer=e.observable(!1),b.showReportOptions=e.observable(!1),b.showAlertContainer=e.observable(!1),b.showReportOptionsNOAA=e.observable(!1),b.showActiveFiresButtons=e.observable(!1),b.showReportOptionsINDO=e.observable(!1),b.showReportOptionsWIND=e.observable(!1),b.showReportOptionsAIR=e.observable(!1),b.showUploadTools=e.observable(!1),b.showDrawTools=e.observable(!1),b.showReportOptionsDigitalGlobe=e.observable(!1),b.showReportOptionsDigitalGlobeFootprints=e.observable(!0),b.digitalGlobeInView=e.observableArray(),b.sortedImageryArray=[],b.showLocatorWidgets=e.observable(!1),b.toggleMapPane=e.observable(!0),b.showPrimaryForestOptions=e.observable(!1),b.showWindLayerOptions=e.observable(!0),b.showWindLegend=e.observable(!1),b.showLatLongInputs=e.observable(!1),b.showDMSInputs=e.observable(!0),b.showClearPinsOption=e.observable(!1),b.currentLatitude=e.observable(0),b.currentLongitude=e.observable(0),b.DigitalGlobeExtents=e.observable([]),b.dgMoments=e.observable([]),b.valuenodes=e.observable(),b.selectedImageryID=e.observable(),b.closeReportOptions=function(){b.showReportOptions(!1),require(["views/map/MapController"],function(e){e.removeAnalysisFromHash()})},b.closeAlertsOptions=function(){b.showAlertContainer(!1)},b.closeReportOptionsNOAA=function(){b.showReportOptionsNOAA(!1)},b.closeReportOptionsINDO=function(){b.showReportOptionsINDO(!1)},b.closeReportOptionsWIND=function(){b.showReportOptionsWIND(!1)},b.closeReportOptionsAIR=function(){b.showReportOptionsAIR(!1)},b.closeReportOptionsDigitalGlobe=function(){b.showReportOptionsDigitalGlobe(!1)},b.closeOptionsNASA=function(){b.showActiveFiresButtons(!1)},b.imageryMouseOver=function(e,o){console.log("MOUSE OVER"),require(["views/map/MapController"],function(a){a.handleImageryOver(e,o)})},b.imageryMouseOut=function(){console.log("MOUSE OUT"),$("#smartHiddenMenu").addClass("hidden")},b.chooseSmartDropdown=function(){var e=$("#activate-smart-checkbox");0!=e[0].checked&&require(["views/map/MapController"],function(e){e.setSmartRenderer(b.smartRendererName())})},b.imageryZoomTo=function(e,o){require(["views/map/MapController"],function(a){a.imageryZoom(e,o)})},b.digitalGlobeToggle=function(e,o){console.log("CLICK"),require(["views/map/MapController"],function(a){a.showDigitalGlobe(e,o)})},b.slidePanel=function(){var e=b.toggleMapPane();require(["views/map/MapController"],function(o){o.resizeMapPanel(e)})},b.selectImageryMinimize=function(){"table"==$("#imageryWindow > table").css("display")?($("#imageryWindow > table").css("display","none"),$("#report-optionsDigitalGlobe").css("border-bottom","none")):($("#imageryWindow > table").css("display","table"),$("#report-optionsDigitalGlobe").css("border-bottom","2px solid black"))},r.applyBindings=function(o){e.applyBindings(b,t.byId(o))},r.get=function(e){return"model"===e?r.vm:r.vm[e]()},r.set=function(e,o){r.vm[e](o)},r});